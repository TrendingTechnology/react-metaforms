(this["webpackJsonpreact-metaforms"]=this["webpackJsonpreact-metaforms"]||[]).push([[0],{10:function(e,a,t){e.exports=t(18)},18:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t(6),r=t(8),m=t(7),u=t(1);const i=[{name:"name",label:"Name",type:"text",validation:[{type:"required",rules:[{message:"This field is required."}]}]},{name:"button",label:"Button example",type:"button"},{name:"agree",type:"checkbox",label:"Agree ?"},{name:"my-textarea",type:"textarea",value:"Text area"},{type:"group",name:"first-group",legend:"Inline group",fields:[{name:"inline-button",label:"Inline Button",type:"button"},{type:"text",name:"inline-input",label:"Inline Input",validation:[{type:"required",rules:[{message:"Please choose a inline text value"}]}]}]},{name:"submit",type:"submit"}],o=[{name:"name",label:"Name",type:"text",value:"banana"},{name:"submit",type:"submit"}],s=[{name:"name",label:"Name",type:"text",value:"banana"},{name:"groups",type:"select",options:[{value:"first"},{value:2,label:"Second"}]},{name:"submit",type:"submit"}],d=e=>n.createElement("button",{type:"submit",style:{margin:"10px 0"}},e.label," [OK] Custom button");var c=()=>{const e=n.useState(s),a=Object(r.a)(e,2),t=a[0],l=a[1];return n.createElement("div",null,n.createElement("button",{onClick:()=>l(i)},"form 1"),n.createElement("button",{onClick:()=>l(o)},"form 2"),n.createElement("button",{onClick:()=>l(s)},"form 3"),n.createElement("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid"}},n.createElement("div",{style:{padding:"10px"}},n.createElement(m.default,{id:"demo-form",fields:t,onFieldsChange:l,onSubmit:e=>console.log("onSubmit",e),onButtonClick:(e,a)=>console.log("onButtonClick",e,a),customComponents:{submit:d}})),n.createElement("div",{style:{padding:"10px",borderLeft:"1px solid"}},n.createElement("pre",null,JSON.stringify(Object(u.getFormData)(t),null,2)))))};l.render(n.createElement(c,null),document.getElementById("root"))},5:function(e,a,t){"use strict";var n=t(9),l=t(0),r=t(2),m=t(1);var u=l.forwardRef((e,a)=>{return l.createElement("div",null,e.label&&l.createElement(g,{fieldId:e.name,label:e.label,isRequired:Object(m.isRequired)(e.validation)}),l.createElement("input",{ref:a,id:e.name,type:e.type,name:e.name,placeholder:e.placeholder,value:(t=e.value,t instanceof Date?t.toISOString():"boolean"===typeof t?t?"true":"false":t||""),disabled:e.disabled,onChange:a=>e.update({name:e.name,value:a.target.value,groupName:e.groupName}),onBlur:()=>e.validate({name:e.name}),inputMode:e.inputMode}),e.errorMessage?l.createElement(v,{message:e.errorMessage}):null);var t});var i=l.forwardRef((e,a)=>{const t=e.label,n=e.name,r=e.validation,u=e.placeholder,i=e.value,o=e.disabled,s=e.update,d=e.validate,c=e.groupName,p=e.errorMessage;return l.createElement("div",null,t?l.createElement(g,{fieldId:n,label:t,isRequired:Object(m.isRequired)(r)}):null,l.createElement("textarea",{ref:a,id:n,name:n,placeholder:u,defaultValue:i,disabled:o,onChange:e=>s({name:n,value:e.target.value,groupName:c}),onBlur:()=>d({name:n})}),p?l.createElement(v,{message:p}):null)});var o=l.forwardRef((e,a)=>l.createElement("div",null,e.label&&l.createElement(g,{fieldId:e.name,label:e.label,isRequired:Object(m.isRequired)(e.validation)}),l.createElement("input",{ref:a,id:e.name,name:e.name,type:"checkbox",disabled:e.disabled,defaultChecked:e.value||!1,onChange:a=>e.updateAndValidate({name:e.name,value:a.target.checked,groupName:e.groupName})}),e.errorMessage?l.createElement(v,{message:e.errorMessage}):null));var s=l.forwardRef((e,a)=>l.createElement("div",null,e.label&&l.createElement(g,{fieldId:e.name,label:e.label,isRequired:Object(m.isRequired)(e.validation)}),l.createElement("select",{ref:a,id:e.name,name:e.name,disabled:e.disabled,defaultValue:e.value||"",onChange:a=>e.updateAndValidate({name:e.name,value:a.target.value,groupName:e.groupName})},e.placeholder?l.createElement("option",{value:""},e.placeholder):null,(e.options||[]).map(e=>l.createElement("option",{value:e.value,key:e.value},e.label||e.value))),e.errorMessage?l.createElement(v,{message:e.errorMessage}):null));var d=({label:e,name:a,disabled:t,onButtonClick:n})=>l.createElement("button",{disabled:t,name:a,type:"button",onClick:n},e);var c=({label:e,name:a,disabled:t})=>l.createElement("button",{disabled:t,name:a,type:"submit"},e||"Submit");var p=({legend:e,children:a})=>l.createElement("div",null,l.createElement("div",null,e||null),a);const b=()=>l.createElement("abbr",{title:"This field is required","aria-hidden":"true"}," ","*");var g=({fieldId:e,label:a,isRequired:t,children:n})=>l.createElement("label",{htmlFor:e},a,t&&l.createElement(b,null),n);var v=({message:e})=>l.createElement("div",{className:"error-message"},e);a.a=({id:e,fields:a=[],onButtonClick:t,customComponents:b,onFieldsChange:g,onSubmit:v})=>{const f={};l.useEffect(()=>{E()},[]);const E=()=>{const e=Object(m.shouldComponentFocus)(a);e&&f[e]&&f[e].current&&f[e].current.focus()},y=({name:e,value:t,groupName:n})=>{g(Object(m.update)({name:e,value:t,groupName:n},a))},h=({name:e})=>{g(Object(m.validate)({name:e},a))},k=({name:e,value:t,groupName:n})=>{g(Object(m.updateAndValidate)({name:e,value:t,groupName:n},a))},O=e=>{t&&t(e,a)},N=(e,a)=>{const t=b&&b[e.type];if(t){const m=Object(n.a)({},e,{groupName:a,key:e.name,children:e.fields?Object(r.map)(a=>N(a,e.name),e.fields):[],update:y,validate:h,onButtonClick:()=>O(e),updateAndValidate:k});return l.createElement(t,m)}switch(f[e.name]=l.createRef(),e.type){case"text":case"email":case"number":case"datetime-local":case"password":return l.createElement(u,Object.assign({key:e.name},e,{ref:f[e.name],groupName:a,update:y,validate:h}));case"textarea":return l.createElement(i,Object.assign({key:e.name},e,{ref:f[e.name],groupName:a,update:y,validate:h}));case"checkbox":return l.createElement(o,Object.assign({key:e.name},e,{ref:f[e.name],groupName:a,updateAndValidate:k}));case"select":return l.createElement(s,Object.assign({key:e.name},e,{ref:f[e.name],groupName:a,updateAndValidate:k}));case"button":return l.createElement(d,Object.assign({key:e.name},e,{groupName:a,onButtonClick:()=>O(e)}));case"submit":return l.createElement(c,Object.assign({key:e.name},e,{groupName:a}));case"group":return l.createElement(p,{key:e.name,name:e.name,type:"group",legend:e.legend},Object(r.map)(a=>N(a,e.name),e.fields));default:return null}};return l.createElement("form",{id:e,onSubmit:e=>{e.preventDefault();const t=Object(m.validateForm)(a);g(t),Object(m.hasError)(t)||v(t)}},Object(r.map)(N,a))}},7:function(e,a,t){"use strict";var n=t(5);t.d(a,"default",(function(){return n.a}));t(1)}},[[10,1,2]]]);
//# sourceMappingURL=main.de3cbf85.chunk.js.map